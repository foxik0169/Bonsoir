import{Q as k,y as w,R as A,S as R,U as B,P,z as L,V as T,W as j,u as q,L as z,X as I,D as y,M,N as Q,Y as F,v as U}from"./entry.oEsUeY7U.js";import{u as $,h as C}from"./preview.4C_rqyg0.js";const H=e=>e==="defer"||e===!1;function K(...e){var v;const r=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(r);let[t,s,a={}]=e;if(typeof t!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof s!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const i=T(),n=()=>null,c=()=>i.isHydrating?i.payload.data[t]:i.static.data[t];a.server=a.server??!0,a.default=a.default??n,a.getCachedData=a.getCachedData??c,a.lazy=a.lazy??!1,a.immediate=a.immediate??!0,a.deep=a.deep??k.deep,a.dedupe=a.dedupe??"cancel";const u=()=>![null,void 0].includes(a.getCachedData(t));if(!i._asyncData[t]||!a.immediate){(v=i.payload._errors)[t]??(v[t]=null);const f=a.deep?w:A;i._asyncData[t]={data:f(a.getCachedData(t)??a.default()),pending:w(!u()),error:R(i.payload._errors,t),status:w("idle")}}const o={...i._asyncData[t]};o.refresh=o.execute=(f={})=>{if(i._asyncDataPromises[t]){if(H(f.dedupe??a.dedupe))return i._asyncDataPromises[t];i._asyncDataPromises[t].cancelled=!0}if((f._initial||i.isHydrating&&f._initial!==!1)&&u())return Promise.resolve(a.getCachedData(t));o.pending.value=!0,o.status.value="pending";const p=new Promise((l,d)=>{try{l(s(i))}catch(S){d(S)}}).then(l=>{if(p.cancelled)return i._asyncDataPromises[t];let d=l;a.transform&&(d=a.transform(l)),a.pick&&(d=N(d,a.pick)),i.payload.data[t]=d,o.data.value=d,o.error.value=null,o.status.value="success"}).catch(l=>{if(p.cancelled)return i._asyncDataPromises[t];o.error.value=j(l),o.data.value=q(a.default()),o.status.value="error"}).finally(()=>{p.cancelled||(o.pending.value=!1,delete i._asyncDataPromises[t])});return i._asyncDataPromises[t]=p,i._asyncDataPromises[t]};const m=()=>o.refresh({_initial:!0}),g=a.server!==!1&&i.payload.serverRendered;{const f=z();if(f&&!f._nuxtOnBeforeMountCbs){f._nuxtOnBeforeMountCbs=[];const l=f._nuxtOnBeforeMountCbs;f&&(B(()=>{l.forEach(d=>{d()}),l.splice(0,l.length)}),P(()=>l.splice(0,l.length)))}g&&i.isHydrating&&(o.error.value||u())?(o.pending.value=!1,o.status.value=o.error.value?"error":"success"):f&&(i.payload.serverRendered&&i.isHydrating||a.lazy)&&a.immediate?f._nuxtOnBeforeMountCbs.push(m):a.immediate&&m(),a.watch&&L(a.watch,()=>o.refresh());const p=i.hook("app:data:refresh",async l=>{(!l||l.includes(t))&&await o.refresh()});f&&P(p)}const D=Promise.resolve(i._asyncDataPromises[t]).then(()=>o);return Object.assign(D,o),D}function te(...e){const r=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(r);const[t,s,a]=e;return K(t,s,{...a,lazy:!0},null)}function N(e,r){const t={};for(const s of r)t[s]=e[s];return t}const b=(e,r)=>r.split(".").reduce((t,s)=>t&&t[s],e),_=(e,r)=>Object.keys(e).filter(r).reduce((t,s)=>Object.assign(t,{[s]:e[s]}),{}),ne=e=>r=>e&&e.length?_(r,t=>!e.includes(t)):r,re=e=>r=>Array.isArray(r)?r.map(t=>e(t)):e(r),E=e=>{const r=[],t=[];for(const s of e)["$","_"].includes(s)?r.push(s):t.push(s);return{prefixes:r,properties:t}},ae=(e=[])=>r=>{if(e.length===0||!r)return r;const{prefixes:t,properties:s}=E(e);return _(r,a=>!s.includes(a)&&!t.includes(a[0]))},se=(e=[])=>r=>{if(e.length===0||!r)return r;const{prefixes:t,properties:s}=E(e);return _(r,a=>s.includes(a)||t.includes(a[0]))},ie=(e,r)=>{const t=new Intl.Collator(r.$locale,{numeric:r.$numeric,caseFirst:r.$caseFirst,sensitivity:r.$sensitivity}),s=Object.keys(r).filter(a=>!a.startsWith("$"));for(const a of s)e=e.sort((i,n)=>{const c=[b(i,a),b(n,a)].map(u=>{if(u!==null)return u instanceof Date?u.toISOString():u});return r[a]===-1&&c.reverse(),t.compare(c[0],c[1])});return e},oe=(e,r="Expected an array")=>{if(!Array.isArray(e))throw new TypeError(r)},h=e=>Array.isArray(e)?e:[void 0,null].includes(e)?[]:[e],W=["sort","where","only","without"];function G(e,r={}){const t={};for(const n of Object.keys(r.initialParams||{}))t[n]=W.includes(n)?h(r.initialParams[n]):r.initialParams[n];const s=(n,c=u=>u)=>(...u)=>(t[n]=c(...u),i),a=n=>{var c;return r.legacy?n!=null&&n.surround?n.surround:n&&(n!=null&&n.dirConfig&&(n.result={_path:(c=n.dirConfig)==null?void 0:c._path,...n.result,_dir:n.dirConfig}),n!=null&&n._path||Array.isArray(n)||!Object.prototype.hasOwnProperty.call(n,"result")?n:n==null?void 0:n.result):n},i={params:()=>({...t,...t.where?{where:[...h(t.where)]}:{},...t.sort?{sort:[...h(t.sort)]}:{}}),only:s("only",h),without:s("without",h),where:s("where",n=>[...h(t.where),...h(n)]),sort:s("sort",n=>[...h(t.sort),...h(n)]),limit:s("limit",n=>parseInt(String(n),10)),skip:s("skip",n=>parseInt(String(n),10)),find:()=>e(i).then(a),findOne:()=>e(s("first")(!0)).then(a),count:()=>e(s("count")(!0)).then(a),locale:n=>i.where({_locale:n}),withSurround:s("surround",(n,c)=>({query:n,...c})),withDirConfig:()=>s("dirConfig")(!0)};return r.legacy&&(i.findSurround=(n,c)=>i.withSurround(n,c).find().then(a)),i}function O(e){return JSON.stringify(e,V)}function V(e,r){return r instanceof RegExp?`--REGEX ${r.toString()}`:r}const X=e=>{let r=O(e);return r=typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r),r=r.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),(r.match(/.{1,100}/g)||[]).join("/")},x=e=>I(e,y().public.content.api.baseURL),ce=()=>{throw console.warn("useContent is only accessible when you are using `documentDriven` mode."),console.warn("Learn more by visiting: https://content.nuxt.com/document-driven"),new Error("useContent is only accessible when you are using `documentDriven` mode.")},Y=()=>{const{experimental:e}=y().public.content;return e.clientDB?!0:$().isEnabled()},J=()=>async e=>{const{content:r}=y().public,t=e.params(),s=r.experimental.stripQueryParameters?x(`/query/${`${C(t)}.${r.integrity}`}/${X(t)}.json`):x(`/query/${C(t)}.${r.integrity}.json`);if(Y())return(await U(()=>import("./client-db.hmG78Opx.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(n=>n.useContentDatabase())).fetch(e);const a=await $fetch(s,{method:"GET",responseType:"json",params:r.experimental.stripQueryParameters?void 0:{_params:O(t),previewToken:$().getPreviewToken()}});if(typeof a=="string"&&a.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return a};function ue(e,...r){const{content:t}=y().public,s=G(J(),{initialParams:typeof e!="string"?e:{},legacy:!0});let a;typeof e=="string"&&(a=M(Q(e,...r)));const i=s.params;return s.params=()=>{var c,u,o;const n=i();return a&&(n.where=n.where||[],n.first&&(n.where||[]).length===0?n.where.push({_path:F(a)}):n.where.push({_path:new RegExp(`^${a.replace(/[-[\]{}()*+.,^$\s/]/g,"\\$&")}`)})),(c=n.sort)!=null&&c.length||(n.sort=[{_file:1,$numeric:!0}]),t.locales.length&&((o=(u=n.where)==null?void 0:u.find(g=>g._locale))!=null&&o._locale||(n.where=n.where||[],n.where.push({_locale:t.defaultLocale}))),n},s}export{K as a,te as b,oe as c,h as d,X as e,ie as f,b as g,re as h,ae as i,O as j,se as k,G as l,ne as o,ue as q,Y as s,ce as u,x as w};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./client-db.hmG78Opx.js","./entry.oEsUeY7U.js","./entry.Kh-om9zl.css","./index.Wme0U9j4.js","./preview.4C_rqyg0.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}